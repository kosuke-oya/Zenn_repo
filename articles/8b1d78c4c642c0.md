---
title: "Goè¨€èªã§GCPã®pubsubâ†’BigQueryã¸ãƒ‡ãƒ¼ã‚¿é€ä¿¡ã™ã‚‹(ãƒˆãƒ”ãƒƒã‚¯ã‚¹ã‚­ãƒ¼ãƒãªã—)"
emoji: "ğŸ“"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Go","GCP","Pubsub","Goè¨€èª"]
published: false
---

# æœ¬è¨˜äº‹ã®å†…å®¹

ä»Šå›å®Ÿè£…ã™ã‚‹æ§‹æˆâ†“
![](https://storage.googleapis.com/zenn-user-upload/391fd4cfc128-20230612.png)

ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã‹ã‚‰Goè¨€èªã‚’ä½¿ã£ã¦
 - pubsubã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ãƒ‘ãƒ–ãƒªãƒƒã‚·ãƒ¥
 - pubsubã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ã¦BigQueryã¸ãƒ‡ãƒ¼ã‚¿é€ä¿¡
 ã‚’è¡Œã„ã¾ã™

 ä»Šå›ã¯ãƒˆãƒ”ãƒƒã‚¯ã‚¹ã‚­ãƒ¼ãƒã‚’ç”¨ã„ã¾ã›ã‚“
 â€»ãƒˆãƒ”ãƒƒã‚¯ã‚¹ã‚­ãƒ¼ãƒã‚’ç”¨ã„ãªã„å ´åˆBigQueryã®ãƒ†ãƒ¼ãƒ–ãƒ«ã«ã¯
 ã€Œdataã€ã¨ã„ã†åˆ—åã€BYTESå‹ã§ãƒ‡ãƒ¼ã‚¿ãŒæ ¼ç´ã•ã‚Œã¾ã™
 ã€€ãƒˆãƒ”ãƒƒã‚¯ã‚¹ã‚­ãƒ¼ãƒã‚’ä½¿ã£ãŸpubsubâ†’BigQueryã¸ã®ãƒ‡ãƒ¼ã‚¿æ ¼ç´ã¯ã„ãšã‚Œè¨˜äº‹ã«ã—ãŸã„ã¨æ€ã„ã¾ã™


# BigQueryãƒ†ãƒ¼ãƒ–ãƒ«ã®æº–å‚™
{yoour_project_id}.test_dataset.pubsubTestã¨ã„ã†ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã—ã¾ã™
ã‚¹ã‚­ãƒ¼ãƒæ§‹æˆã¯åˆ—åï¼šdataã€BYTESå‹ã€€ã®1åˆ—ã®ã¿ã§ã™

<!-- ![ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆç”»é¢](GCPBigQuery.png) -->
![ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆç”»é¢](https://storage.googleapis.com/zenn-user-upload/e6d33612e64e-20230611.png)

ã“ã‚Œã§å®Œäº†ã§ã™

# pubsubã®æº–å‚™
pubsubãªã©ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã¯
ãƒ»ãƒˆãƒ”ãƒƒã‚¯
ãƒ»ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³
ã¨ã„ã†ã‚‚ã®ã‚’ç”¨æ„ã—ã¾ã™

ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ³ã‚°é…ä¿¡ã«ãŠã„ã¦ã¯
ãƒˆãƒ”ãƒƒã‚¯ï¼šå—ä¿¡å´
ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ï¼šé€ä¿¡å´
ã¨ã„ã†èªè­˜ã§OKã§ã™

è©³ã—ãã¯ä»–ã®è¨˜äº‹ã‚‚ã—ãã¯å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç¢ºèªãã ã•ã„

## ãƒˆãƒ”ãƒƒã‚¯ã®ä½œæˆ
ã€Œtest_pubsubã€ã¨ã„ã†ãƒˆãƒ”ãƒƒã‚¯ã‚’ä½œæˆã—ã¾ã™

## ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ã®ä½œæˆ
ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³å´ã§ã€ŒBigQueryã¸ã®æ›¸ãè¾¼ã¿ã€ã¨ã„ã†é …ç›®ãŒã‚ã‚‹ã®ã§ãã‚Œã‚’é¸æŠã—ã¾ã™
<!-- ![ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ä½œæˆç”»é¢](subscription_making.png) -->
![ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ä½œæˆç”»é¢](https://storage.googleapis.com/zenn-user-upload/6603e29cde39-20230611.png)


ãã†ã™ã‚‹ã¨
```
ã‚µãƒ¼ãƒ“ã‚¹ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ ********@gcp-sa-pubsub.iam.gserviceaccount.com ã«ã€æ¬¡ã® BigQuery ãƒ†ãƒ¼ãƒ–ãƒ«ã¸ã®æ›¸ãè¾¼ã¿ã«å¿…è¦ãªæ¨©é™ãŒã‚ã‚Šã¾ã›ã‚“: bigquery.tables.getã€bigquery.tables.updateDataã€‚
```
ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
å¾Œã§è¨­å®šãŒå¿…è¦ã«ãªã‚Šã¾ã™ãŒä¸€æ—¦ä¿å­˜ã‚’æŠ¼ã—ã¦ãŠãã¾ã—ã‚‡ã†

## pubsubã®ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«BigQueryã¸æ›¸ãè¾¼ã¿æ¨©é™ã‚’ä»˜ä¸
IAMç”»é¢ã«ç§»å‹•ã—ã¾ã™ã€‚
ã‚¢ã‚¯ã‚»ã‚¹æ¨©ã‚’ä»˜ä¸ã™ã‚‹ç”»é¢ã«ã¦ã•ãã»ã©ã®
********@gcp-sa-pubsub.iam.gserviceaccount.com
ã«BigQueryã®æ¨©é™ã‚’ä»˜ä¸ã—ã¾ã™


ä»Šå›ã¯å°‘ã—éå‰°æ°—å‘³ã§ã™ãŒã€ã€ŒBigQueryãƒ‡ãƒ¼ã‚¿ç·¨é›†è€…ã€ã‚’ä¸ãˆã¦ãŠãã¾ã™
![pubsubã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«BigQueryã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©ã‚’ä»˜ä¸](https://storage.googleapis.com/zenn-user-upload/3b56ebf34ad1-20230611.png)

â€»æœ¬ç•ªç’°å¢ƒãªã‚‰ä¸Šè¨˜bigquery.tables.getã€bigquery.tables.updateDataæ¨©é™ã®ã¿ä»˜ä¸ã™ã‚‹ãƒ­ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¾ã—ã‚‡ã†


# ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ã‚’Goã§å®Ÿè£…ã™ã‚‹
å¿…é ˆãªã“ã¨ã¯ä¸‹è¨˜2ã¤
- ã‚¢ã‚¯ã‚»ã‚¹æ¨©ã‚’æŒã£ã¦ã„ã‚‹ã“ã¨
- Goã®APIã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã„ã‚‹ã“ã¨

## ãƒ­ãƒ¼ã‚«ãƒ«ãƒã‚·ãƒ³ã¸ã‚¢ã‚¯ã‚»ã‚¹æ¨©ã®ä»˜ä¸
ã€€ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã‹ã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ãƒ‘ãƒ–ãƒªãƒƒã‚·ãƒ¥ã™ã‚‹ãŸã‚ã«ã¯

ã¾ãšã¯IAMã®ã€Œã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã€ç”»é¢ã«ã¦ã€ŒCREATE SERVICE ACCOUNTã€ã‚’æŠ¼ã—ã¾ã™
![ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒˆãƒƒãƒ—ç”»é¢](https://storage.googleapis.com/zenn-user-upload/26e8d9a60898-20230611.png)

æ–°ã—ã„ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåã‚’æ±ºã‚ã¦ã€ã€ŒPub/Sub ãƒ‘ãƒ–ãƒªãƒƒã‚·ãƒ£ãƒ¼ã€ãƒ­ãƒ¼ãƒ«ã‚’ä»˜ä¸ã—ã¾ã™

![ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«é¸æŠç”»é¢](https://storage.googleapis.com/zenn-user-upload/b3debec72ff0-20230611.png)

ã“ã‚Œã«ã‚ˆã£ã¦ã“ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒpubsubã¸ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ãƒ‘ãƒ–ãƒªãƒƒã‚·ãƒ¥ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™


ã‚ã¨ã¯ã“ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ(ç§ã®å ´åˆã¯PubsubPublisher)ã‹ã‚‰jsonã‚­ãƒ¼ã‚’ç™ºè¡Œã—ã¾ã™

![jsonã‚­ãƒ¼ç™ºè¡Œ](https://storage.googleapis.com/zenn-user-upload/99581e610d95-20230611.png)

ã“ã®jsonã‚­ãƒ¼ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ãŠãã¾ã™ã€‚

## Goè¨€èªã§ã®å®Ÿè£…
ã¾ãšã¯pubsubãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠãã¾ã—ã‚‡ã†
```
go get cloud.google.com/go/pubsub
```

æ—©é€Ÿå…¬å¼ã‚µã‚¤ãƒˆã‚’è¦‹ã¦ã„ãã¾ã—ã‚‡ã†
 - https://cloud.google.com/pubsub/docs/publisher?hl=ja

ä¸‹è¨˜ã®ã‚ˆã†ãªè¨˜è¿°ã«ãªã£ã¦ã„ã¾ã™(2023/6/11æ™‚ç‚¹)
 ```Go
 import (
        "context"
        "fmt"
        "io"
        "strconv"
        "sync"
        "sync/atomic"

        "cloud.google.com/go/pubsub"
)

func publishThatScales(w io.Writer, projectID, topicID string, n int) error {
        // projectID := "my-project-id"
        // topicID := "my-topic"
        ctx := context.Background()
        client, err := pubsub.NewClient(ctx, projectID)
        if err != nil {
                return fmt.Errorf("pubsub.NewClient: %w", err)
        }
        defer client.Close()

        var wg sync.WaitGroup
        var totalErrors uint64
        t := client.Topic(topicID)

        for i := 0; i < n; i++ {
                result := t.Publish(ctx, &pubsub.Message{
                        Data: []byte("Message " + strconv.Itoa(i)),
                })

                wg.Add(1)
                go func(i int, res *pubsub.PublishResult) {
                        defer wg.Done()
                        // The Get method blocks until a server-generated ID or
                        // an error is returned for the published message.
                        id, err := res.Get(ctx)
                        if err != nil {
                                // Error handling code can be added here.
                                fmt.Fprintf(w, "Failed to publish: %v", err)
                                atomic.AddUint64(&totalErrors, 1)
                                return
                        }
                        fmt.Fprintf(w, "Published message %d; msg ID: %v\n", i, id)
                }(i, result)
        }

        wg.Wait()

        if totalErrors > 0 {
                return fmt.Errorf("%d of %d messages did not publish successfully", totalErrors, n)
        }
        return nil
}
 ```

å®Ÿã¯ã“ã®é–¢æ•°ã‚’ä½¿ã£ã¦é€ä¿¡ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦é€ä¿¡ã§ãã¾ã›ã‚“
GCPã¸ã®èªè¨¼ãŒå‡ºæ¥ã¦ã„ãªã„ã‹ã‚‰ã§ã™
ã‚ã¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç·æ•°ã‹ã‚‰ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°ã‚’ç®—å‡ºã™ã‚‹ã‚ˆã†ã«ä¸å¯§ã«æ›¸ã‹ã‚Œã¦ã„ã¾ã™
ãŒã€Hello worldã«ã¯å°‘ã—éå‰°ãªæ°—ãŒã—ã¾ã™

GCPèªè¨¼ã‚’è¿½åŠ ã—å…¨æ–‡ã‚’ã‚·ãƒ³ãƒ—ãƒ«ã«æ›¸ãç›´ã—ã¾ã™
```Go
package main

import (
	"context"
	"fmt"
	"sync"
	"time"

	"cloud.google.com/go/pubsub"
	"google.golang.org/api/option"
)

const (
	projectId  = "********************"      // GCPã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆID
	topicId    = "test_pubsub"                // pubsubã®ãƒˆãƒ”ãƒƒã‚¯ID
	pubsubKey  = "keys/PubsubPublishKey.json" // GCPã®jsonã‚­ãƒ¼ä¿å­˜å…ˆã€‚å…ˆã»ã©GCPã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸjsonã‚­ãƒ¼ã®ç›¸å¯¾ãƒ‘ã‚¹ã‚’è¨˜å…¥
	bufferSize = 1000
	n          = 10 //ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡æ•°
)

func publish_topic(
	ctx context.Context, //ãƒãƒƒã‚¯ã‚°ãƒ©ãƒ³ãƒ‰ã§å®Ÿè¡Œã™ã‚‹ãŸã‚ã®context
	pubsubTopic *pubsub.Topic, //pubsubãƒˆãƒ”ãƒƒã‚¯ã®ãƒã‚¤ãƒ³ã‚¿
	msg string, // pubsubã¸é€ä¿¡ã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å†…å®¹
) {
	// æ–‡å­—åˆ—ã‚’byteså¤‰æ›ã™ã‚‹
	msgB := []byte(msg)
	// Pubsubã«ãƒ‘ãƒ–ãƒªãƒƒã‚·ãƒ¥ã™ã‚‹
	msgP := &pubsub.Message{Data: msgB}
	_, err := pubsubTopic.Publish(ctx, msgP).Get(ctx)
	if err != nil {
		fmt.Println("Failed to publish response message: ", err)
		//ä»–ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
		return
	}
	fmt.Printf("ãƒ‘ãƒ–ãƒªãƒƒã‚·ãƒ¥ã•ã‚Œã¾ã—ãŸ%s", msg)
}

func main() {
	// pubsubã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆåˆæœŸåŒ–
	ctx := context.Background()
	pubsub_client, err := pubsub.NewClient(ctx, projectId, option.WithCredentialsFile(pubsubKey))
	if err != nil {
		fmt.Printf("Failed to make pubsub client:%s ", err)
		return
	}
	defer pubsub_client.Close()

	pubsubTopic := pubsub_client.Topic(topicId)
	//10Kbytesæ¯ã«é€ä¿¡ã™ã‚‹ãƒãƒƒãƒè¨­å®š
	//ã“ã®å‡¦ç†ã‚’è¡Œã£ã¦ãŠãã¨é«˜é€Ÿã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ã™ã‚‹å ´åˆã§ã‚‚ã‚µã‚¤ã‚ºæ¯ã«ãƒãƒ«ã‚¯é€ä¿¡ã—ã¦ãã‚Œã¾ã™
	pubsubTopic.PublishSettings.ByteThreshold = bufferSize

	var wg sync.WaitGroup
	// ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä½œã£ã¦é€ä¿¡ã™ã‚‹éƒ¨åˆ†ã‚’ä¸¦è¡Œå‡¦ç†ã§è¨˜è¿°
	func() {
		for i := 0; i < n+1; i++ {
			wg.Add(1)
			msg := fmt.Sprintf(`
			"time": %s,
			"message": "Hello World %v"
            `, time.Now().Format("2006-01-02 15:04:05.123456"), i)

			go func() {
				defer wg.Done()
				publish_topic(ctx, pubsubTopic, msg)
			}()
		}
	}()
	wg.Wait()
}

```

ã“ã‚“ãªæ„Ÿã˜ã«æ›¸ãã¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒé€ä¿¡ã•ã‚Œã‚‹ã“ã¨ãŒãƒ­ãƒ¼ã‚«ãƒ«ã§ç¢ºèªã§ãã¾ã™
```
            ãƒ‘ãƒ–ãƒªãƒƒã‚·ãƒ¥ã•ã‚Œã¾ã—ãŸ
                        "time": 2023-06-12 01:02:16.61212166,
                        "message": "Hello World 1"
            ãƒ‘ãƒ–ãƒªãƒƒã‚·ãƒ¥ã•ã‚Œã¾ã—ãŸ
                        "time": 2023-06-12 01:02:16.61212166,
                        "message": "Hello World 5"
            ãƒ‘ãƒ–ãƒªãƒƒã‚·ãƒ¥ã•ã‚Œã¾ã—ãŸ
                        "time": 2023-06-12 01:02:16.61212166,
                        "message": "Hello World 2"
            ãƒ‘ãƒ–ãƒªãƒƒã‚·ãƒ¥ã•ã‚Œã¾ã—ãŸ
                        "time": 2023-06-12 01:02:16.61212166,
                        "message": "Hello World 4"
            ãƒ‘ãƒ–ãƒªãƒƒã‚·ãƒ¥ã•ã‚Œã¾ã—ãŸ
                        "time": 2023-06-12 01:02:16.61212166,
                        "message": "Hello World 7"
            ãƒ‘ãƒ–ãƒªãƒƒã‚·ãƒ¥ã•ã‚Œã¾ã—ãŸ
                        "time": 2023-06-12 01:02:16.61212166,
                        "message": "Hello World 0"
            ãƒ‘ãƒ–ãƒªãƒƒã‚·ãƒ¥ã•ã‚Œã¾ã—ãŸ
                        "time": 2023-06-12 01:02:16.61212166,
                        "message": "Hello World 6"
            ãƒ‘ãƒ–ãƒªãƒƒã‚·ãƒ¥ã•ã‚Œã¾ã—ãŸ
                        "time": 2023-06-12 01:02:16.61212166,
                        "message": "Hello World 10"
            ãƒ‘ãƒ–ãƒªãƒƒã‚·ãƒ¥ã•ã‚Œã¾ã—ãŸ
                        "time": 2023-06-12 01:02:16.61212166,
                        "message": "Hello World 3"
            ãƒ‘ãƒ–ãƒªãƒƒã‚·ãƒ¥ã•ã‚Œã¾ã—ãŸ
                        "time": 2023-06-12 01:02:16.61212166,
                        "message": "Hello World 9"
            ãƒ‘ãƒ–ãƒªãƒƒã‚·ãƒ¥ã•ã‚Œã¾ã—ãŸ
                        "time": 2023-06-12 01:02:16.61212166,
                        "message": "Hello World 8"
```

## BigQueryã¸ã®æ ¼ç´çŠ¶æ…‹ã®ç¢ºèª
BigQueryã«ã¯dataåˆ—ã«byteå½¢å¼ã§ãƒ‡ãƒ¼ã‚¿ãŒæ ¼ç´ã•ã‚Œã¦ã„ã¾ã—ãŸ
![BigQueryç”»é¢](https://storage.googleapis.com/zenn-user-upload/84286fd81e1d-20230612.png)

ã“ã‚Œã‚’æ–‡å­—åˆ—è¡¨ç¤ºã«ã—ãŸã„å ´åˆã«ã¯ä¸‹è¨˜ã§ç¢ºèªã§ãã¾ã™
```SQL
SELECT data, CAST(data AS STRING) AS data_string
FROM `******.test_dataset.pubsubTest` LIMIT 1000
```
*****ã¯GCPã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆIDã§ã™

ã“ã‚Œã‚’å®Ÿè¡Œã™ã‚‹ã¨ã—ã£ã‹ã‚Šé€ä¿¡ã—ãŸæ–‡å­—åˆ—ãŒæ ¼ç´ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã§ãã¾ã—ãŸ
![](https://storage.googleapis.com/zenn-user-upload/fccbbd47a820-20230612.png)


# ã¾ã¨ã‚
æœ€å¾Œã«ã„ãã¤ã‹èº“ããƒã‚¤ãƒ³ãƒˆã‚’ã¾ã¨ã‚ã¦ãŠãã¾ã™
- GCPæ¨©é™é–¢ä¿‚
  - [x] pubsubã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«BigQueryã¸ã®æ›¸ãè¾¼ã¿æ¨©é™ã‚’ä»˜ä¸ã™ã‚‹
  - [x] ãƒ­ãƒ¼ã‚«ãƒ«ãƒã‚·ãƒ³ã«pubsubãƒ‘ãƒ–ãƒªãƒƒã‚·ãƒ£ãƒ¼æ¨©é™ã‚’æŒãŸã›ã‚‹(jsonã‚­ãƒ¼ãªã©)
- BigQueryå´ã®è¨­å®š
  - [x] dataåˆ—ã¨ã„ã†åˆ—åã«ã™ã‚‹å¿…è¦ãŒã‚ã‚‹
  - [x] dataåˆ—ã¯byteå‹
- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´(Goè¨€èª)
  - [x] (jsonã‚­ãƒ¼ã§ã®èªè¨¼ã®å ´åˆ)clientä½œæˆæ™‚ã«option.WithCredentialsFile()ã‚’ä»˜ä¸ã™ã‚‹
  - [x] ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯byteså½¢å¼ã«ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã—ã¦pubsubãƒ¡ãƒƒã‚»ãƒ¼ã‚¸åˆæœŸåŒ–é–¢æ•°ã«æ¸¡ã™


ä»¥ä¸Šã€å‚è€ƒã«ãªã‚Œã°å¹¸ã„ã§ã™

